								<!DOCTYPE html>
								<html lang="en">
								<head>
									<meta charset="UTF-8">
									<meta name="viewport" content="width=device-width, initial-scale=1.0">
									<title>Assessment Tools - Coach Pete Ryan | Building Better People</title>
									<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
								    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

									<script src="https://cdn.tailwindcss.com"></script>
									<script>
										tailwind.config = {
											theme: {
												extend: {
													colors: {
														primary: '#ff6b35',
														primaryDark: '#ff8c42',
														secondary: '#ff8c42',
														accent: '#00d4ff',
														graybg1: '#1a1a1a',
														graybg2: '#2d2d2d',
														graybg3: '#3d3d3d',
														textlight: '#e0e0e0',
														textmedium: '#b0b0b0',
														textdark: '#808080'
													},
													fontFamily: {
														'headings': ['Oswald', 'sans-serif'],
														'body': ['Open Sans', 'sans-serif']
													}
												}
											}
										}
									</script>
									<style>
										body { font-family: 'Open Sans', sans-serif; background-color: #1a1a1a; color: #b0b0b0; }
										h1, h2, h3, h4, h5, h6 { font-family: 'Oswald', sans-serif; color: #e0e0e0; }
										.nav-link { transition: all 0.3s ease; color: #b0b0b0; }
										.nav-link:hover { color: #ff8c42; }
										.nav-link.active { color: #ff6b35; font-weight: 600; }
										.sticky-nav { backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }

										.tab-content { display: none; }
										.tab-content.active { display: block; }

								        .tool-tab-btn {
								            color: #b0b0b0; /* textmedium */
								            background-color: transparent;
								            border-bottom: 3px solid transparent; /* For active indicator */
								            padding-bottom: 0.75rem; /* Adjust padding for border */
								            margin-bottom: -3px; /* Offset border thickness */
								            flex-grow: 1; /* Make tabs take equal space */
								            text-align:center;
								        }
								        .tool-tab-btn:hover {
								            color: #e0e0e0; /* textlight */
								            border-bottom-color: #3d3d3d; /* graybg3 */
								        }
								        .tool-tab-btn.active-tab-styling {
								            color: #ff6b35; /* primary */
								            font-weight: 700;
								            border-bottom-color: #ff6b35; /* primary */
								        }

										.progress-bar { transition: width 0.3s ease; }
										.timer-active { animation: pulse-timer 1s infinite alternate; } /* 'alternate' makes it smoother */
										@keyframes pulse-timer {
											from { transform: scale(1); opacity: 1; }
											to { transform: scale(1.03); opacity: 0.9; }
										}
								        .form-input {
								            background-color: #3d3d3d; /* graybg3 */
								            border: 1px solid #3d3d3d; /* graybg3 for consistency */
								            color: #e0e0e0; /* textlight */
								            border-radius: 0.25rem;
								            padding: 0.75rem 1rem;
								        }
								        .form-input::placeholder { color: #808080; /* textdark */ }
								        .form-input:focus {
								            border-color: #ff6b35; /* primary */
								            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.3); /* primary with alpha */
								            outline: none;
								        }
								        .form-select { /* Style select elements similarly to inputs */
								            background-color: #3d3d3d;
								            border: 1px solid #3d3d3d;
								            color: #e0e0e0;
								            border-radius: 0.25rem;
								            padding: 0.75rem 1rem;
								            appearance: none; /* Remove default arrow */
								            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23b0b0b0'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
								            background-repeat: no-repeat;
								            background-position: right 0.75rem center;
								            background-size: 1.5em 1.5em;
								        }
								        .form-select:focus { border-color: #ff6b35; box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.3); outline: none; }

								        /* Custom radio button style for quiz */
								        .quiz-answer-label {
								            display: block;
								            cursor: pointer;
								            padding: 1rem;
								            border: 2px solid #3d3d3d; /* graybg3 */
								            border-radius: 0.375rem;
								            transition: all 0.2s ease;
								            background-color: #3d3d3d; /* graybg3 */
								        }
								        .quiz-answer-label:hover {
								            border-color: #ff8c42; /* primaryDark */
								            background-color: #4a4a4a; /* slightly lighter graybg3 */
								        }
								        .quiz-answer-label input[type="radio"] {
								            display: none; /* Hide original radio */
								        }
								        .quiz-answer-label input[type="radio"]:checked + span {
								            color: #ff6b35; /* primary */
								            font-weight: 600;
								        }
								        .quiz-answer-label input[type="radio"]:checked + span::before {
								            content: "\\f058"; /* Font Awesome check-circle */
								            font-family: "Font Awesome 6 Free";
								            font-weight: 900;
								            margin-right: 0.75rem;
								            color: #ff6b35; /* primary */
								        }
								         .btn {
								            padding: 0.75rem 1.5rem; border-radius: 0.25rem; font-weight: 700;
								            text-transform: uppercase; letter-spacing: 0.05em; transition: all 0.2s ease-in-out;
								            border: 2px solid transparent; text-align:center; display:inline-block;
								        }
								        .btn-primary { background-color: #ff6b35; color: #1a1a1a; border-color: #ff6b35; }
								        .btn-primary:hover { background-color: #ff8c42; border-color: #ff8c42; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
								        .btn-secondary { background-color: #3d3d3d; color: #e0e0e0; border-color: #3d3d3d; }
								        .btn-secondary:hover { background-color: #00d4ff; color: #1a1a1a; border-color: #00d4ff; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 212, 255, 0.2); }
								        .btn-disabled { background-color: #3d3d3d; color: #808080; cursor: not-allowed; opacity:0.6; }

									</style>
								</head>
								<body class="font-body">
								<script>
									document.documentElement.classList.add('dark');
								</script>

								<nav class="fixed top-0 left-0 right-0 bg-graybg2/90 sticky-nav z-50 border-b border-graybg3">
									<div class="container mx-auto px-4">
										<div class="flex justify-between items-center py-4">
											<a href="index.html" class="flex items-center space-x-2">
												<div class="w-10 h-10 bg-primary rounded-md flex items-center justify-center shadow-md">
													<span class="text-graybg1 font-bold text-lg">P</span>
												</div>
												<div>
													<div class="font-bold text-textlight text-lg font-headings">Coach Pete Ryan</div>
													<div class="text-xs text-textdark">Building Better People</div>
												</div>
											</a>
											<div class="hidden md:flex space-x-6 items-center">
												<a href="index.html" class="nav-link">Home</a>
												<a href="about.html" class="nav-link">About</a>
												<a href="services.html" class="nav-link">Services</a>
												<a href="tools.html" class="nav-link">Assessment Tools</a>
												<a href="onboarding.html" class="nav-link">Client Registration</a>
												<a href="testimonials.html" class="nav-link">Testimonials</a>
								                <a href="client_zone.html" class="nav-link"><i class="fas fa-user-shield mr-1"></i>Client Zone</a>
												<a href="contact.html" class="nav-link btn btn-primary !py-2 !px-4 !text-sm">Contact</a>
											</div>
											<button onclick="toggleMobileMenu()" class="md:hidden p-2 text-textlight">
												<i class="fas fa-bars fa-lg"></i>
											</button>
										</div>
										<div id="mobileMenu" class="hidden md:hidden pb-4 border-t border-graybg3 mt-2">
											<div class="flex flex-col space-y-2 pt-2">
												<a href="index.html" onclick="toggleMobileMenu()" class="nav-link block py-2">Home</a>
												<a href="about.html" onclick="toggleMobileMenu()" class="nav-link block py-2">About</a>
												<a href="services.html" onclick="toggleMobileMenu()" class="nav-link block py-2">Services</a>
												<a href="tools.html" onclick="toggleMobileMenu()" class="nav-link block py-2">Assessment Tools</a>
												<a href="onboarding.html" onclick="toggleMobileMenu()" class="nav-link block py-2">Client Registration</a>
												<a href="testimonials.html" onclick="toggleMobileMenu()" class="nav-link block py-2">Testimonials</a>
								                <a href="client_zone.html" onclick="toggleMobileMenu()" class="nav-link block py-2"><i class="fas fa-user-shield mr-1"></i>Client Zone</a>
												<a href="contact.html" onclick="toggleMobileMenu()" class="nav-link block py-2 bg-primary text-center text-graybg1 rounded-md mt-2 hover:bg-primaryDark">Contact Us</a>
											</div>
										</div>
									</div>
								</nav>

								<main id="tools-section" class="min-h-screen pt-24">
									<div class="container mx-auto px-4 py-8 max-w-6xl">
										<div class="text-center mb-12">
											<h1 class="text-4xl md:text-6xl font-bold text-textlight mb-3 font-headings leading-tight">ASSESSMENT & TRAINING TOOLS</h1>
											<p class="text-xl text-primary font-semibold mb-6">Discover Your Potential. Sharpen Your Edge.</p>
											<div class="bg-graybg2 p-4 rounded-lg shadow-md inline-block">
												<p class="text-textmedium italic">"Keep turning up. Keep trying. Keep failing. Keep going. Make this your routine."</p>
											</div>
										</div>

										<div class="flex flex-col sm:flex-row justify-center mb-10 border-b border-graybg3">
											<button onclick="showToolTab('mindset')" id="mindset-tab" class="tool-tab-btn px-4 py-3 text-base font-medium transition-all duration-200 active-tab-styling">
												<i class="fas fa-brain mr-2"></i>Mindset Assessment
											</button>
											<button onclick="showToolTab('fitness')" id="fitness-tab" class="tool-tab-btn px-4 py-3 text-base font-medium transition-all duration-200">
												<i class="fas fa-dumbbell mr-2"></i>Fitness Calculator
											</button>
											<button onclick="showToolTab('timer')" id="timer-tab" class="tool-tab-btn px-4 py-3 text-base font-medium transition-all duration-200">
												<i class="fas fa-stopwatch mr-2"></i>Workout Timer
											</button>
										</div>

										<div id="mindset-tool-content" class="tool-tab-content active">
											<div class="bg-graybg2 rounded-xl shadow-xl p-8">
												<h2 class="text-3xl font-bold text-textlight mb-2 text-center font-headings">Mindset Assessment Quiz</h2>
								                <p class="text-textmedium text-center mb-8">Uncover your mental strengths and key areas for growth to forge an unbreakable mindset.</p>
												<div id="quiz-container">
													<div class="mb-8">
														<div class="flex justify-between items-center mb-2">
															<span class="text-sm text-textdark font-semibold">PROGRESS</span>
															<span id="question-counter" class="text-sm text-textdark font-semibold">1 / 10</span>
														</div>
														<div class="w-full bg-graybg3 rounded-full h-3 shadow-inner">
															<div id="progress-bar" class="progress-bar bg-primary h-3 rounded-full" style="width: 10%"></div>
														</div>
													</div>
													<div id="question-container" class="mb-8">
														<h3 id="question-text" class="text-2xl font-semibold text-textlight mb-6 font-headings"></h3>
														<div id="answers-container" class="space-y-4"></div>
													</div>
													<div class="flex justify-between items-center mt-10">
														<button id="prev-btn" onclick="previousQuestion()" disabled class="btn btn-secondary btn-disabled">
								                            <i class="fas fa-arrow-left mr-2"></i>Previous
								                        </button>
														<button id="next-btn" onclick="nextQuestion()" disabled class="btn btn-primary btn-disabled">
								                            Next<i class="fas fa-arrow-right ml-2"></i>
								                        </button>
													</div>
												</div>
												<div id="results-container" class="hidden">
													<div class="text-center mb-8">
														<h3 class="text-3xl font-bold text-textlight mb-4 font-headings">Your Mindset Profile</h3>
								                        <div class="w-32 h-32 mx-auto rounded-full border-4 border-primary flex items-center justify-center mb-4 bg-graybg3">
														    <div id="mindset-score" class="text-5xl font-bold text-primary font-headings"></div>
								                        </div>
														<div id="mindset-category" class="text-2xl font-semibold text-accent mb-6 font-headings"></div>
													</div>
													<div id="mindset-feedback" class="bg-graybg3 rounded-lg p-6 mb-6 text-textmedium leading-relaxed"></div>
													<div class="text-center space-x-4">
														<button onclick="restartQuiz()" class="btn btn-primary">
								                            <i class="fas fa-redo mr-2"></i>Retake Quiz
								                        </button>
														<button onclick="window.location.href='onboarding.html'" class="btn btn-secondary">
								                            Begin Registration<i class="fas fa-user-plus ml-2"></i>
								                        </button>
													</div>
												</div>
											</div>
										</div>

										<div id="fitness-tool-content" class="tool-tab-content">
											<div class="bg-graybg2 rounded-xl shadow-xl p-8">
												<h2 class="text-3xl font-bold text-textlight mb-2 text-center font-headings">Fitness Assessment Calculator</h2>
								                <p class="text-textmedium text-center mb-8">Gain insights into your current fitness level and receive personalized recommendations.</p>
												<div class="grid md:grid-cols-2 gap-x-8 gap-y-6">
													<div>
														<h3 class="text-xl font-semibold text-accent mb-6 font-headings border-b border-graybg3 pb-2">YOUR DETAILS</h3>
														<div class="space-y-5">
															<div>
																<label for="fitness-age" class="block text-sm font-medium text-textmedium mb-1">Age <span class="text-primary">*</span></label>
																<input type="number" id="fitness-age" class="form-input w-full" placeholder="Enter your age">
															</div>
															<div>
																<label for="fitness-gender" class="block text-sm font-medium text-textmedium mb-1">Gender <span class="text-primary">*</span></label>
																<select id="fitness-gender" class="form-select w-full">
																	<option value="">Select gender</option>
																	<option value="male">Male</option>
																	<option value="female">Female</option>
																</select>
															</div>
															<div>
																<label for="fitness-height" class="block text-sm font-medium text-textmedium mb-1">Height (cm) <span class="text-primary">*</span></label>
																<input type="number" id="fitness-height" class="form-input w-full" placeholder="e.g., 175">
															</div>
															<div>
																<label for="fitness-weight" class="block text-sm font-medium text-textmedium mb-1">Weight (kg) <span class="text-primary">*</span></label>
																<input type="number" id="fitness-weight" class="form-input w-full" placeholder="e.g., 70">
															</div>
															<div>
																<label for="fitness-activity" class="block text-sm font-medium text-textmedium mb-1">Activity Level <span class="text-primary">*</span></label>
																<select id="fitness-activity" class="form-select w-full">
																	<option value="">Select activity level</option>
																	<option value="sedentary">Sedentary (little to no exercise)</option>
																	<option value="light">Light (1-3 days/week)</option>
																	<option value="moderate">Moderate (3-5 days/week)</option>
																	<option value="active">Active (6-7 days/week)</option>
																	<option value="very_active">Very Active (2x/day or intense)</option>
																</select>
															</div>
															<div>
																<label for="fitness-goal" class="block text-sm font-medium text-textmedium mb-1">Primary Goal <span class="text-primary">*</span></label>
																<select id="fitness-goal" class="form-select w-full">
																	<option value="">Select your goal</option>
																	<option value="weight_loss">Weight Loss</option>
																	<option value="muscle_gain">Muscle Gain</option>
																	<option value="endurance">Improve Endurance</option>
																	<option value="strength">Build Strength</option>
																	<option value="general">General Fitness</option>
																</select>
															</div>
															<button onclick="calculateFitness()" class="w-full btn btn-primary mt-4">
								                                <i class="fas fa-calculator mr-2"></i>Calculate Fitness Level
								                            </button>
														</div>
													</div>
													<div id="fitness-results" class="hidden mt-6 md:mt-0">
														<h3 class="text-xl font-semibold text-accent mb-6 font-headings border-b border-graybg3 pb-2">YOUR RESULTS</h3>
														<div class="space-y-6">
															<div class="bg-graybg3 rounded-lg p-4 shadow">
																<h4 class="font-semibold text-textlight mb-1 font-headings flex items-center"><i class="fas fa-weight-scale mr-2 text-primary"></i>BMI (Body Mass Index)</h4>
																<div id="bmi-value" class="text-3xl font-bold text-primary mb-1 font-headings"></div>
																<div id="bmi-category" class="text-sm text-textmedium"></div>
															</div>
															<div class="bg-graybg3 rounded-lg p-4 shadow">
																<h4 class="font-semibold text-textlight mb-1 font-headings flex items-center"><i class="fas fa-fire-alt mr-2 text-primary"></i>Daily Caloric Needs</h4>
																<div id="calories-value" class="text-3xl font-bold text-primary mb-1 font-headings"></div>
																<div id="calories-goal" class="text-sm text-textmedium"></div>
															</div>
															<div class="bg-graybg3 rounded-lg p-4 shadow">
																<h4 class="font-semibold text-textlight mb-1 font-headings flex items-center"><i class="fas fa-running mr-2 text-primary"></i>Estimated Fitness Age</h4>
																<div id="fitness-age-result" class="text-3xl font-bold text-primary mb-1 font-headings"></div>
																<div class="text-sm text-textmedium">Compared to your chronological age</div>
															</div>
														</div>
														<div id="fitness-recommendations" class="mt-6 p-4 bg-graybg3 border-l-4 border-accent rounded-r-md shadow">
															<h4 class="font-semibold text-textlight mb-2 font-headings flex items-center"><i class="fas fa-lightbulb mr-2 text-accent"></i>Pete's Recommendations</h4>
															<div id="recommendations-text" class="text-textmedium text-sm leading-relaxed"></div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div id="timer-tool-content" class="tool-tab-content">
											<div class="bg-graybg2 rounded-xl shadow-xl p-8">
												<h2 class="text-3xl font-bold text-textlight mb-2 text-center font-headings">Custom Workout Timer</h2>
								                <p class="text-textmedium text-center mb-8">Optimize your training sessions with this versatile interval timer.</p>
												<div class="grid md:grid-cols-2 gap-8 items-center">
													<div>
														<h3 class="text-xl font-semibold text-accent mb-6 font-headings border-b border-graybg3 pb-2">TIMER SETTINGS</h3>
														<div class="space-y-5">
															<div>
																<label for="preset" class="block text-sm font-medium text-textmedium mb-1">Preset Workouts</label>
																<select id="preset" onchange="loadPreset()" class="form-select w-full">
																	<option value="">Custom Timer</option>
																	<option value="hiit_beginner">HIIT Beginner (20s work, 40s rest)</option>
																	<option value="hiit_intermediate">HIIT Intermediate (30s work, 30s rest)</option>
																	<option value="hiit_advanced">HIIT Advanced (45s work, 15s rest)</option>
																	<option value="tabata">Tabata (20s work, 10s rest)</option>
																	<option value="emom">EMOM (Every Minute on the Minute)</option>
																</select>
															</div>
															<div class="grid grid-cols-2 gap-4">
																<div>
																	<label for="work-time" class="block text-sm font-medium text-textmedium mb-1">Work (sec)</label>
																	<input type="number" id="work-time" value="30" class="form-input w-full">
																</div>
																<div>
																	<label for="rest-time" class="block text-sm font-medium text-textmedium mb-1">Rest (sec)</label>
																	<input type="number" id="rest-time" value="30" class="form-input w-full">
																</div>
															</div>
															<div class="grid grid-cols-2 gap-4">
																<div>
																	<label for="rounds" class="block text-sm font-medium text-textmedium mb-1">Rounds</label>
																	<input type="number" id="rounds" value="8" class="form-input w-full">
																</div>
																<div>
																	<label for="prep-time" class="block text-sm font-medium text-textmedium mb-1">Prep (sec)</label>
																	<input type="number" id="prep-time" value="10" class="form-input w-full">
																</div>
															</div>
															<div class="flex space-x-3 mt-6">
																<button id="start-btn" onclick="startTimer()" class="flex-1 btn btn-primary">
																	<i class="fas fa-play mr-2"></i>Start
																</button>
																<button id="reset-btn" onclick="resetTimer()" class="btn btn-secondary">
																	<i class="fas fa-undo"></i>
																</button>
															</div>
														</div>
													</div>
													<div class="text-center p-4 bg-graybg1 rounded-lg shadow-inner">
														<div id="timer-phase" class="text-3xl font-semibold text-accent mb-3 font-headings tracking-wider">GET READY</div>
								                        <div id="timer-display" class="text-8xl lg:text-9xl font-bold text-primary mb-4 timer-active font-headings tabular-nums">00:10</div>
														<div id="timer-round" class="text-lg text-textmedium mb-6">Round 1 of 8</div>
														<div class="relative w-40 h-40 md:w-48 md:h-48 mx-auto mb-6">
															<svg class="w-full h-full transform -rotate-90" viewBox="0 0 120 120">
																<circle cx="60" cy="60" r="54" stroke="#3d3d3d" stroke-width="10" fill="none"/>
																<circle id="progress-circle" cx="60" cy="60" r="54" stroke="#ff6b35" stroke-width="10" fill="none"
																				stroke-linecap="round" stroke-dasharray="339.292" stroke-dashoffset="339.292"
																				style="transition: stroke-dashoffset 0.5s linear"/>
															</svg>
															<div class="absolute inset-0 flex items-center justify-center">
																<span id="progress-text" class="text-xl font-medium text-textlight font-headings">PREP</span>
															</div>
														</div>
														<div class="space-x-3">
															<button id="pause-btn" onclick="pauseTimer()" disabled class="btn btn-secondary btn-disabled">
																<i class="fas fa-pause mr-1"></i>Pause
															</button>
															<button id="skip-btn" onclick="skipPhase()" disabled class="btn btn-secondary btn-disabled">
																<i class="fas fa-forward mr-1"></i>Skip
															</button>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="bg-graybg2 rounded-lg p-8 mt-16 text-center shadow-xl border-t-4 border-primary">
											<h3 class="text-3xl font-bold text-textlight mb-4 font-headings">Ready to Forge Your <span class="text-primary">Peak</span> Performance?</h3>
											<p class="text-textmedium mb-8 max-w-lg mx-auto">These tools offer a glimpse. Personalized coaching unlocks your true potential. Let's build your success story.</p>
											<div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
												<button onclick="window.location.href='onboarding.html'" class="w-full sm:w-auto btn btn-primary text-lg">
								                    <i class="fas fa-user-plus mr-2"></i>Start Client Registration
												</button>
												<button onclick="window.location.href='contact.html'" class="w-full sm:w-auto btn btn-secondary">
								                    <i class="fas fa-envelope mr-2"></i>Contact Pete
												</button>
											</div>
										</div>
									</div>
								</main>

								<footer class="bg-graybg1 text-textlight py-12 border-t-4 border-primary">
									<div class="container mx-auto px-4">
										<div class="grid md:grid-cols-4 gap-8 mb-8">
											<div>
												<div class="flex items-center space-x-2 mb-4">
													<div class="w-10 h-10 bg-primary rounded-md flex items-center justify-center">
														<span class="text-graybg1 font-bold text-lg">P</span>
													</div>
													<div>
														<a href="index.html" class="font-bold text-lg font-headings">Coach Pete Ryan</a>
														<div class="text-xs text-textdark">Building Better People</div>
													</div>
												</div>
												<p class="text-textdark text-sm mb-4">Transforming lives through the perfect blend of fitness training and mindset coaching.</p>
								                <div class="flex space-x-3">
								                    <a href="#" class="text-textmedium hover:text-primary text-xl"><i class="fab fa-facebook-f"></i></a>
								                    <a href="#" class="text-textmedium hover:text-primary text-xl"><i class="fab fa-instagram"></i></a>
								                    <a href="#" class="text-textmedium hover:text-primary text-xl"><i class="fab fa-youtube"></i></a>
								                </div>
											</div>
											<div>
												<h4 class="font-semibold mb-4 font-headings text-textlight">Quick Links</h4>
												<ul class="text-sm text-textdark space-y-2">
													<li><a href="about.html" class="hover:text-primary transition-colors">About Pete</a></li>
													<li><a href="services.html" class="hover:text-primary transition-colors">Services</a></li>
													<li><a href="testimonials.html" class="hover:text-primary transition-colors">Testimonials</a></li>
													<li><a href="contact.html" class="hover:text-primary transition-colors">Contact Us</a></li>
												</ul>
											</div>
											<div>
												<h4 class="font-semibold mb-4 font-headings text-textlight">Resources</h4>
												<ul class="text-sm text-textdark space-y-2">
													<li><a href="tools.html" class="hover:text-primary transition-colors">Assessment Tools</a></li>
													<li><a href="onboarding.html" class="hover:text-primary transition-colors">Client Registration</a></li>
								                    <li><a href="client_zone.html" class="hover:text-primary transition-colors">Client Zone Login</a></li>
													<li><a href="#" class="hover:text-primary transition-colors">Blog/Articles</a></li>
												</ul>
											</div>
											<div>
												<h4 class="font-semibold mb-4 font-headings text-textlight">Get In Touch</h4>
												<ul class="text-sm text-textdark space-y-2">
													<li><i class="fas fa-phone fa-fw mr-2 text-primary"></i>+44 7123 456789</li>
													<li><i class="fas fa-envelope fa-fw mr-2 text-primary"></i>pete@coachpeteryan.com</li>
													<li><i class="fas fa-map-marker-alt fa-fw mr-2 text-primary"></i>Thorpe, Surrey, UK</li>
													<li><i class="fas fa-clock fa-fw mr-2 text-primary"></i>Mon-Fri: 6AM-8PM</li>
												</ul>
											</div>
										</div>
										<div class="border-t border-graybg3 mt-8 pt-8 text-center">
												<p class="text-textdark text-sm">© <span id="currentYear"></span> Coach Pete Ryan. All rights reserved. | Building Better People, One Life at a Time.</p>
										</div>
									</div>
								</footer>
								<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
								<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.2/marked.min.js"></script>
								<script>
									// --- Common JavaScript ---
									document.getElementById('currentYear').textContent = new Date().getFullYear();
									function toggleMobileMenu() {
										const mobileMenu = document.getElementById('mobileMenu');
								        const burgerIcon = document.querySelector('.md\\:hidden i');
										mobileMenu.classList.toggle('hidden');
								        if (mobileMenu.classList.contains('hidden')) {
								            burgerIcon.classList.remove('fa-times');
								            burgerIcon.classList.add('fa-bars');
								        } else {
								            burgerIcon.classList.remove('fa-bars');
								            burgerIcon.classList.add('fa-times');
								        }
									}
									function setActiveNavLink() {
										const navLinks = document.querySelectorAll('nav a.nav-link');
										let currentPath = window.location.pathname.split('/').pop();
										if (currentPath === '' || currentPath === 'index.html') {
												currentPath = 'index.html';
										}
								         if (window.location.pathname.includes('tools.html')) { // Ensure correct active link for tools page
								            currentPath = 'tools.html';
								        }
										navLinks.forEach(link => {
								            const linkHref = link.getAttribute('href');
											if (linkHref === currentPath) {
												link.classList.add('active');
											} else {
												link.classList.remove('active');
											}
										});
									}


									// --- Tools Page Specific JavaScript ---
									function showToolTab(tabName) {
										document.querySelectorAll('.tool-tab-content').forEach(content => {
											content.classList.remove('active');
										});
										document.querySelectorAll('.tool-tab-btn').forEach(btn => {
											btn.classList.remove('active-tab-styling');
										});
										document.getElementById(tabName + '-tool-content').classList.add('active');
										const activeBtn = document.getElementById(tabName + '-tab');
										activeBtn.classList.add('active-tab-styling');
									}
									window.showToolTab = showToolTab;

									// Mindset Assessment Quiz Functions
									const mindsetQuestions = [
										{ question: "When faced with a challenging workout, I typically:", answers: [{ text: "Push through and give my absolute best effort", score: 5 },{ text: "Try my best but might ease up if it gets too difficult", score: 3 },{ text: "Often find excuses to skip or reduce the intensity", score: 1 },{ text: "Feel motivated by the challenge and want to prove myself", score: 4 }] },
										{ question: "When I fail to reach a fitness goal, I:", answers: [{ text: "See it as a learning opportunity and adjust my approach", score: 5 },{ text: "Feel disappointed but eventually get back on track", score: 3 },{ text: "Often give up or switch to a different goal", score: 1 },{ text: "Use it as motivation to work even harder", score: 4 }] },
										{ question: "My self-talk during difficult training sessions is usually:", answers: [{ text: "Encouraging and motivating", score: 5 },{ text: "Mixed - sometimes positive, sometimes negative", score: 3 },{ text: "Often critical and discouraging", score: 1 },{ text: "Focused on technique and form", score: 4 }] },
										{ question: "When others achieve fitness goals I'm working towards, I feel:", answers: [{ text: "Inspired and motivated to work harder", score: 5 },{ text: "Happy for them but slightly envious", score: 3 },{ text: "Discouraged about my own progress", score: 1 },{ text: "Curious about their methods and strategies", score: 4 }] },
										{ question: "I believe my fitness abilities are:", answers: [{ text: "Something I can always improve with effort", score: 5 },{ text: "Partly fixed but can be developed to some extent", score: 3 },{ text: "Largely determined by natural talent", score: 1 },{ text: "Dependent on having the right training program", score: 4 }] },
										{ question: "When facing plateaus in my progress, I:", answers: [{ text: "Research new strategies and techniques", score: 5 },{ text: "Wait it out hoping things will improve", score: 2 },{ text: "Get frustrated and consider quitting", score: 1 },{ text: "Seek advice from trainers or experienced athletes", score: 4 }] },
										{ question: "My approach to setting fitness goals is:", answers: [{ text: "I set challenging but achievable goals with specific timelines", score: 5 },{ text: "I set general goals without much detail", score: 2 },{ text: "I avoid setting goals to prevent disappointment", score: 1 },{ text: "I set multiple small goals that build towards bigger ones", score: 4 }] },
										{ question: "When I'm tired or unmotivated to exercise, I:", answers: [{ text: "Exercise anyway, even if it's just a light session", score: 5 },{ text: "Sometimes push through, sometimes take the day off", score: 3 },{ text: "Usually skip the workout", score: 1 },{ text: "Do a modified version of my planned workout", score: 4 }] },
										{ question: "I handle constructive criticism about my form or technique by:", answers: [{ text: "Appreciating the feedback and working to improve", score: 5 },{ text: "Listening but feeling slightly defensive", score: 3 },{ text: "Taking it personally and feeling discouraged", score: 1 },{ text: "Asking questions to better understand the advice", score: 4 }] },
										{ question: "My mindset about pain and discomfort during training is:", answers: [{ text: "It's a necessary part of growth and improvement", score: 5 },{ text: "I tolerate it but don't enjoy it", score: 3 },{ text: "I try to avoid it as much as possible", score: 1 },{ text: "I distinguish between good pain (muscle fatigue) and bad pain (injury)", score: 4 }] }
									];
									let currentQuestion = 0;
									let mindsetAnswers = [];

									function loadQuestion() {
										if (!document.getElementById('quiz-container')) return; // Ensure quiz elements are present
										if (currentQuestion >= mindsetQuestions.length) { showResults(); return; }
										const question = mindsetQuestions[currentQuestion];
										const questionTextEl = document.getElementById('question-text');
										const questionCounterEl = document.getElementById('question-counter');
										const progressBarEl = document.getElementById('progress-bar');
										const answersContainerEl = document.getElementById('answers-container');
										const prevBtnEl = document.getElementById('prev-btn');

										if (!questionTextEl || !questionCounterEl || !progressBarEl || !answersContainerEl || !prevBtnEl) return;

										questionTextEl.textContent = question.question;
										questionCounterEl.textContent = `${currentQuestion + 1} / ${mindsetQuestions.length}`;
										const progressPercent = ((currentQuestion + 1) / mindsetQuestions.length) * 100;
										progressBarEl.style.width = progressPercent + '%';
										answersContainerEl.innerHTML = '';
										question.answers.forEach((answer, index) => {
								            const answerLabel = document.createElement('label');
								            answerLabel.className = 'quiz-answer-label';
								            answerLabel.innerHTML = `<input type="radio" name="answer" value="${answer.score}" id="answer-${index}"> <span class="text-textmedium">${answer.text}</span>`;
											answersContainerEl.appendChild(answerLabel);
										});
										prevBtnEl.disabled = currentQuestion === 0;
								        prevBtnEl.classList.toggle('btn-disabled', prevBtnEl.disabled);
										updateNextButton();
										answersContainerEl.removeEventListener('change', updateNextButton);
										answersContainerEl.addEventListener('change', updateNextButton);
									}
									window.loadQuestion = loadQuestion;

									function updateNextButton() {
										const selectedAnswer = document.querySelector('input[name="answer"]:checked');
										const nextBtnEl = document.getElementById('next-btn');
										if(nextBtnEl) {
								            nextBtnEl.disabled = !selectedAnswer;
								            nextBtnEl.classList.toggle('btn-disabled', nextBtnEl.disabled);
								        }
									}
									window.updateNextButton = updateNextButton;

									function nextQuestion() {
										const selectedAnswer = document.querySelector('input[name="answer"]:checked');
										if (selectedAnswer) {
											mindsetAnswers[currentQuestion] = parseInt(selectedAnswer.value);
											currentQuestion++;
											loadQuestion();
										}
									}
									window.nextQuestion = nextQuestion;

									function previousQuestion() {
										if (currentQuestion > 0) {
											currentQuestion--;
											loadQuestion();
											if (mindsetAnswers[currentQuestion] !== undefined) {
												setTimeout(() => { // Ensure DOM is updated
													const radioToSelect = document.querySelector(`input[name="answer"][value="${mindsetAnswers[currentQuestion]}"]`);
								                    if (radioToSelect) {
								                        radioToSelect.checked = true;
								                    }
								                    updateNextButton();
												}, 0);
											}
										}
									}
									window.previousQuestion = previousQuestion;

									function showResults() {
										const quizContainerEl = document.getElementById('quiz-container');
										const resultsContainerEl = document.getElementById('results-container');
										if(!quizContainerEl || !resultsContainerEl) return;

										quizContainerEl.classList.add('hidden');
										resultsContainerEl.classList.remove('hidden');
										const totalScore = mindsetAnswers.reduce((sum, score) => sum + score, 0);
										const maxScore = mindsetQuestions.length * 5;
										const percentage = Math.round((totalScore / maxScore) * 100);
										document.getElementById('mindset-score').textContent = percentage + '%';
										let category, feedback;
										if (percentage >= 85) { category = "Champion Mindset"; feedback = "Outstanding! You demonstrate the mental qualities of a true champion. Your resilience, growth mindset, and positive self-talk are your greatest assets. Pete's recommendation: Focus on maintaining these excellent mental habits while challenging yourself with more advanced goals."; }
										else if (percentage >= 70) { category = "Strong Mindset"; feedback = "Excellent work! You have a solid mental foundation with room for fine-tuning. Your mindset will serve you well in achieving your goals. Pete's recommendation: Work on strengthening any areas where you scored lower and continue building on your mental strengths."; }
										else if (percentage >= 55) { category = "Developing Mindset"; feedback = "Good foundation! You're on the right track but there's significant room for growth. Focus on building more resilient thinking patterns. Pete's recommendation: Practice positive self-talk, embrace challenges as growth opportunities, and consider mindset coaching to accelerate your development."; }
										else { category = "Mindset Needs Attention"; feedback = "This is your starting point, and that's perfectly okay! Everyone begins somewhere. Your awareness of needing growth is already a positive step. Pete's recommendation: Prioritize mindset work alongside physical training - your mental game will determine your success more than any exercise program."; }
										document.getElementById('mindset-category').textContent = category;
										document.getElementById('mindset-feedback').innerHTML = `<p class="text-textmedium">${feedback.replace("Pete's recommendation:", "<strong class='text-textlight block mt-3'>Pete's Recommendation:</strong>")}</p>`;
									}
									window.showResults = showResults;

									function restartQuiz() {
										currentQuestion = 0; mindsetAnswers = [];
										const quizContainerEl = document.getElementById('quiz-container');
										const resultsContainerEl = document.getElementById('results-container');
										if(!quizContainerEl || !resultsContainerEl) return;
										quizContainerEl.classList.remove('hidden');
										resultsContainerEl.classList.add('hidden');
										loadQuestion();
									}
									window.restartQuiz = restartQuiz;

									// Fitness Calculator Functions
									function calculateFitness() {
										const age = parseInt(document.getElementById('fitness-age').value); const gender = document.getElementById('fitness-gender').value;
										const height = parseInt(document.getElementById('fitness-height').value); const weight = parseInt(document.getElementById('fitness-weight').value);
										const activity = document.getElementById('fitness-activity').value; const goal = document.getElementById('fitness-goal').value;
										const fitnessResultsEl = document.getElementById('fitness-results');

										if (!age || !gender || !height || !weight || !activity || !goal) {
								            document.querySelectorAll('#fitness-tool-content [required]').forEach(el => {
								                if(!el.value) el.classList.add('border-red-500'); else el.classList.remove('border-red-500');
								            });
								            alert('Please fill in all required (*) fields to calculate your fitness assessment.'); return;
								        } else {
								             document.querySelectorAll('#fitness-tool-content [required]').forEach(el => el.classList.remove('border-red-500'));
								        }
										if (!fitnessResultsEl) return;

										const bmi = weight / ((height / 100) ** 2); const bmiCategory = getBMICategory(bmi);
										let bmr; if (gender === 'male') { bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age); } else { bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age); }
										const activityMultipliers = { sedentary: 1.2, light: 1.375, moderate: 1.55, active: 1.725, very_active: 1.9 };
										const maintenanceCalories = Math.round(bmr * activityMultipliers[activity]);
										let targetCalories; let calorieGoalText;
										switch(goal) { case 'weight_loss': targetCalories = maintenanceCalories - 500; calorieGoalText = 'for Weight Loss'; break; case 'muscle_gain': targetCalories = maintenanceCalories + 300; calorieGoalText = 'for Muscle Gain'; break; default: targetCalories = maintenanceCalories; calorieGoalText = 'for Maintenance';}
										const fitnessAge = calculateFitnessAge(age, bmi, activity);
										document.getElementById('bmi-value').textContent = bmi.toFixed(1); document.getElementById('bmi-category').textContent = bmiCategory;
										document.getElementById('calories-value').textContent = targetCalories.toLocaleString(); document.getElementById('calories-goal').textContent = calorieGoalText;
										document.getElementById('fitness-age-result').textContent = fitnessAge + ' years';
										const recommendations = generateRecommendations(bmi, activity, goal, age, bmiCategory);
										document.getElementById('recommendations-text').innerHTML = recommendations;
										fitnessResultsEl.classList.remove('hidden');
								        fitnessResultsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
									}
									window.calculateFitness = calculateFitness;

									function getBMICategory(bmi) { if (bmi < 18.5) return 'Underweight'; if (bmi < 24.9) return 'Healthy Weight'; if (bmi < 29.9) return 'Overweight'; return 'Obese'; }
									function calculateFitnessAge(age, bmi, activity) { let fitnessAge = age; if (bmi < 18.5) fitnessAge += 2; else if (bmi > 24.9) fitnessAge += Math.floor((bmi - 24.9) * 0.5); const activityAdjustments = { sedentary: 5, light: 2, moderate: -1, active: -3, very_active: -5 }; fitnessAge += activityAdjustments[activity]; return Math.max(18, Math.min(age + 15, fitnessAge, age - 10)); }
									function generateRecommendations(bmi, activity, goal, age, bmiCategory) { let recs = []; if (bmiCategory === 'Underweight') { recs.push("Focus on nutrient-dense foods and consistent strength training to build healthy lean mass. Consider a moderate caloric surplus."); } else if (bmiCategory === 'Overweight' || bmiCategory === 'Obese') { recs.push("Prioritize a sustainable caloric deficit through balanced nutrition. Incorporate a mix of strength training to preserve muscle and cardiovascular exercise for calorie expenditure. Small, consistent changes lead to long-term success.");} else { recs.push("Maintain your healthy weight with balanced nutrition and regular exercise. Focus on performance or specific physique goals if desired.")} if (activity === 'sedentary') { recs.push("Aim to gradually introduce physical activity. Start with 2-3 sessions per week of activities you enjoy, like walking, cycling, or light strength training. Consistency is key."); } else if (activity === 'light') { recs.push("Consider increasing the intensity or duration of your current workouts. Adding one more session or challenging yourself a bit more each time can yield great results."); } else if (activity === 'very_active') { recs.push("Ensure you're prioritizing recovery, including adequate sleep and nutrition, to support your high activity level and prevent overtraining. Listen to your body."); } switch(goal) { case 'weight_loss': recs.push("Create a consistent caloric deficit, primarily through diet. Prioritize protein intake (1.6-2.2g per kg bodyweight) to preserve muscle mass. Combine strength training with cardio."); break; case 'muscle_gain': recs.push("Implement progressive overload in your strength training. Consume a slight caloric surplus with adequate protein (1.6-2.2g per kg bodyweight). Ensure sufficient rest and recovery."); break; case 'endurance': recs.push("Gradually increase your training volume and duration for your chosen endurance activity. Incorporate interval training to improve VO2 max. Fuel appropriately for long sessions."); break; case 'strength': recs.push("Focus on compound lifts (squats, deadlifts, bench, press) with proper form. Utilize progressive overload by increasing weight or reps. Allow for adequate recovery between heavy lifting days."); break; case 'general': recs.push("Aim for a balanced routine: 150 minutes of moderate-intensity cardio or 75 minutes of vigorous-intensity cardio per week, plus strength training 2-3 times per week targeting all major muscle groups.")} if (age > 40) { recs.push("Prioritize resistance training to maintain muscle mass and bone density. Include mobility and flexibility work. Pay attention to joint health and allow for ample recovery."); } if (recs.length === 0) { recs.push("Your current plan seems well-aligned! For specific advice tailored to further enhancing your results or breaking through plateaus, a personalized consultation with Coach Pete can provide targeted strategies.");} return recs.map(rec => `<li class="flex items-start mb-2"><i class="fas fa-check-circle text-accent mr-2 mt-1"></i><span>${rec}</span></li>`).join(''); }

									// Workout Timer Functions
									let timerState = { isRunning: false, isPaused: false, currentPhase: 'prep', currentRound: 1, timeRemaining: 0, totalTime: 0, workTime: 30, restTime: 30, totalRounds: 8, prepTime: 10, interval: null, initialPrepTime: 10, initialWorkTime: 30, initialRestTime:30, initialRounds: 8 };
								    const beepSound = typeof Audio !== "undefined" ? new Audio('https://cdn.freesound.org/previews/215/215235_3283233-lq.mp3') : null; // Simple beep
								    const workEndSound = typeof Audio !== "undefined" ? new Audio('https://cdn.freesound.org/previews/579/579192_10203809-lq.mp3') : null; // Different sound for work end

									function loadPreset() {
										const presetValue = document.getElementById('preset').value;
										const presets = { hiit_beginner: { work: 20, rest: 40, rounds: 6, prep: 10 }, hiit_intermediate: { work: 30, rest: 30, rounds: 8, prep: 10 }, hiit_advanced: { work: 45, rest: 15, rounds: 10, prep: 10 }, tabata: { work: 20, rest: 10, rounds: 8, prep: 10 }, emom: { work: 60, rest: 0, rounds: 10, prep: 10 }};
										if (presetValue && presets[presetValue]) {
								            const p = presets[presetValue];
								            document.getElementById('work-time').value = p.work;
								            document.getElementById('rest-time').value = p.rest;
								            document.getElementById('rounds').value = p.rounds;
								            document.getElementById('prep-time').value = p.prep;
								        }
										resetTimer();
									}
									window.loadPreset = loadPreset;

									function updateTimerValuesFromInputs(isInitialSetup = false) {
								        const workTime = parseInt(document.getElementById('work-time').value) || 30;
								        const restTime = parseInt(document.getElementById('rest-time').value) || 30;
								        const totalRounds = parseInt(document.getElementById('rounds').value) || 8;
								        const prepTime = parseInt(document.getElementById('prep-time').value) || 10;

								        if(isInitialSetup) {
								            timerState.initialWorkTime = workTime;
								            timerState.initialRestTime = restTime;
								            timerState.initialRounds = totalRounds;
								            timerState.initialPrepTime = prepTime;
								        }

										timerState.workTime = workTime;
										timerState.restTime = restTime;
										timerState.totalRounds = totalRounds;
										timerState.prepTime = prepTime;
									}

									function startTimer() {
										if (timerState.isRunning && timerState.isPaused) { resumeTimer(); return; }
										if (timerState.isRunning) return;

										updateTimerValuesFromInputs();
										timerState.isRunning = true;
										timerState.isPaused = false;
										timerState.currentPhase = 'prep';
										timerState.currentRound = 1;
										timerState.timeRemaining = timerState.prepTime;
										timerState.totalTime = timerState.prepTime;
								        if (timerState.prepTime === 0) { // Skip prep if 0
								            nextPhase();
								        } else {
								            updateTimerDisplay();
								            runTimer();
								        }
										enableTimerControls(true);
									}
									window.startTimer = startTimer;

									function runTimer() {
										if (timerState.interval) clearInterval(timerState.interval);
										timerState.interval = setInterval(() => {
											if (timerState.timeRemaining > 0) {
								                timerState.timeRemaining--;
								                if (timerState.timeRemaining <= 3 && timerState.timeRemaining > 0 && timerState.currentPhase !== 'complete') {
								                    if (beepSound) beepSound.play().catch(e => console.log("Audio play failed:", e));
								                }
								            }
											updateTimerDisplay();
											updateProgressRing();
											if (timerState.timeRemaining <= 0) {
								                if (timerState.currentPhase === 'work' || timerState.currentPhase === 'prep') {
								                     if(workEndSound) workEndSound.play().catch(e => console.log("Audio play failed:", e));
								                }
								                nextPhase();
								            }
										}, 1000);
									}

									function nextPhase() {
										switch(timerState.currentPhase) {
											case 'prep':
								                timerState.currentPhase = 'work';
								                timerState.timeRemaining = timerState.workTime;
								                timerState.totalTime = timerState.workTime;
								                break;
											case 'work':
								                if (timerState.currentRound < timerState.totalRounds) {
								                    if (timerState.restTime > 0) {
								                        timerState.currentPhase = 'rest';
								                        timerState.timeRemaining = timerState.restTime;
								                        timerState.totalTime = timerState.restTime;
								                    } else { // No rest, straight to next work round
								                        timerState.currentRound++;
								                        timerState.currentPhase = 'work';
								                        timerState.timeRemaining = timerState.workTime;
								                        timerState.totalTime = timerState.workTime;
								                    }
								                } else {
								                    completeWorkout(); return;
								                }
								                break;
											case 'rest':
								                timerState.currentRound++;
								                timerState.currentPhase = 'work';
								                timerState.timeRemaining = timerState.workTime;
								                timerState.totalTime = timerState.workTime;
								                break;
										}
										if (timerState.isRunning) {
												updateTimerDisplay();
												updateProgressRing(); // Update progress for new phase start
										}
									}

									function completeWorkout() {
										if (timerState.interval) clearInterval(timerState.interval);
										timerState.isRunning = false;
										timerState.isPaused = false;
										timerState.currentPhase = 'complete';
										document.getElementById('timer-display').textContent = 'DONE!';
										document.getElementById('timer-phase').textContent = 'Workout Complete!';
								        document.getElementById('timer-round').textContent = `Total Rounds: ${timerState.totalRounds}`;
										document.getElementById('progress-text').textContent = '100%';
										enableTimerControls(false);
										const progressCircle = document.getElementById('progress-circle');
										if(progressCircle) progressCircle.style.strokeDashoffset = '0';
								        if(workEndSound) workEndSound.play().catch(e => console.log("Audio play failed:", e));
									}

									function pauseTimer() {
										if (timerState.isRunning && !timerState.isPaused) {
											if (timerState.interval) clearInterval(timerState.interval);
											timerState.isPaused = true;
											const pauseBtn = document.getElementById('pause-btn');
											if (pauseBtn) {
								                pauseBtn.innerHTML = '<i class="fas fa-play mr-1"></i>Resume';
								                pauseBtn.onclick = resumeTimer;
								            }
										}
									}
									window.pauseTimer = pauseTimer;

									function resumeTimer() {
										if (timerState.isRunning && timerState.isPaused) {
											timerState.isPaused = false;
											const pauseBtn = document.getElementById('pause-btn');
											if(pauseBtn) {
								                pauseBtn.innerHTML = '<i class="fas fa-pause mr-1"></i>Pause';
								                pauseBtn.onclick = pauseTimer;
								            }
											runTimer();
										}
									}
									window.resumeTimer = resumeTimer;

									function skipPhase() {
										if (timerState.isRunning && !timerState.isPaused) {
											timerState.timeRemaining = 0;
											updateTimerDisplay();
											updateProgressRing();
								            // The interval will pick this up and call nextPhase
										}
									}
									window.skipPhase = skipPhase;

									function resetTimer() {
										if (timerState.interval) clearInterval(timerState.interval);
								        updateTimerValuesFromInputs(true); // Reset to potentially changed input values and store them as initial

										timerState.isRunning = false;
										timerState.isPaused = false;
										timerState.currentPhase = 'prep';
										timerState.currentRound = 1;
										timerState.timeRemaining = timerState.initialPrepTime > 0 ? timerState.initialPrepTime : timerState.initialWorkTime;
										timerState.totalTime = timerState.initialPrepTime > 0 ? timerState.initialPrepTime : timerState.initialWorkTime;
								        if (timerState.initialPrepTime === 0 && timerState.initialWorkTime > 0) { // If no prep, show work phase initially
								            timerState.currentPhase = 'work';
								        }


										updateTimerDisplay();
										updateProgressRing();
										enableTimerControls(false);
										const pauseBtn = document.getElementById('pause-btn');
										if(pauseBtn) {
								            pauseBtn.innerHTML = '<i class="fas fa-pause mr-1"></i>Pause';
								            pauseBtn.onclick = pauseTimer;
								        }
									}
									window.resetTimer = resetTimer;


									function updateTimerDisplay() {
										const displayEl = document.getElementById('timer-display');
										const phaseEl = document.getElementById('timer-phase');
										const roundEl = document.getElementById('timer-round');
										const progressTextEl = document.getElementById('progress-text');

										if(!displayEl || !phaseEl || !roundEl || !progressTextEl) return;

										const minutes = Math.floor(timerState.timeRemaining / 60);
										const seconds = timerState.timeRemaining % 60;
										displayEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

										const phaseNames = { prep: 'GET READY', work: 'WORK!', rest: 'REST', complete: 'COMPLETE!' };
										phaseEl.textContent = phaseNames[timerState.currentPhase] || 'STARTING...';
										roundEl.textContent = (timerState.currentPhase !== 'complete' && timerState.currentPhase !== 'prep') ? `ROUND ${timerState.currentRound} / ${timerState.totalRounds}` : (timerState.currentPhase === 'prep' ? `PREP - ROUND 1 / ${timerState.totalRounds}`: `ALL ${timerState.totalRounds} ROUNDS DONE!`);

										if (timerState.currentPhase !== 'complete') {
											// const progress = timerState.totalTime > 0 ? Math.max(0,Math.round(((timerState.totalTime - timerState.timeRemaining) / timerState.totalTime) * 100)) : (timerState.currentPhase === 'work' ? 0 : 100) ;
								            let currentPhaseTotalTime = timerState.totalTime;
								            if (timerState.currentPhase === 'prep') currentPhaseTotalTime = timerState.prepTime;
								            else if (timerState.currentPhase === 'work') currentPhaseTotalTime = timerState.workTime;
								            else if (timerState.currentPhase === 'rest') currentPhaseTotalTime = timerState.restTime;

											const progress = currentPhaseTotalTime > 0 ? Math.max(0,Math.round(((currentPhaseTotalTime - timerState.timeRemaining) / currentPhaseTotalTime) * 100)) : 0 ;
											progressTextEl.textContent = timerState.currentPhase.toUpperCase();
										} else {
											progressTextEl.textContent = 'DONE';
										}
									}

									function updateProgressRing() {
										const progressCircle = document.getElementById('progress-circle');
										if(!progressCircle) return;
										const circumference = parseFloat(progressCircle.getAttribute('stroke-dasharray')) || 339.292;
										let offset = circumference; // Full circle (empty)

								        let currentPhaseTotalTime = timerState.totalTime;
								        if(timerState.currentPhase === 'prep') currentPhaseTotalTime = timerState.prepTime;
								        else if(timerState.currentPhase === 'work') currentPhaseTotalTime = timerState.workTime;
								        else if(timerState.currentPhase === 'rest') currentPhaseTotalTime = timerState.restTime;


										if (currentPhaseTotalTime > 0 && timerState.timeRemaining >= 0) {
											const progressFraction = (currentPhaseTotalTime - timerState.timeRemaining) / currentPhaseTotalTime;
											offset = circumference - Math.max(0, Math.min(1, progressFraction)) * circumference;
										} else if (timerState.timeRemaining <= 0 && currentPhaseTotalTime <=0 && timerState.currentPhase !== 'complete') { // e.g. 0s rest or skipped
								            offset = 0; // Full circle (filled) for instant phases before next
								        } else if (timerState.currentPhase === 'complete') {
								            offset = 0; // Full circle (filled) for complete
								        }

										progressCircle.style.strokeDashoffset = offset;
									}


									function enableTimerControls(isRunningNow) {
										const startBtn = document.getElementById('start-btn');
										const pauseBtn = document.getElementById('pause-btn');
										const skipBtn = document.getElementById('skip-btn');

										if(!startBtn || !pauseBtn || !skipBtn) return;

										startBtn.disabled = isRunningNow && !timerState.isPaused;
								        startBtn.classList.toggle('btn-disabled', startBtn.disabled);

										pauseBtn.disabled = !isRunningNow || (isRunningNow && timerState.isPaused && pauseBtn.textContent.includes('Resume')); // Disable if not running, or if it's already a "Resume" button
								        pauseBtn.classList.toggle('btn-disabled', pauseBtn.disabled);

										skipBtn.disabled = !isRunningNow || timerState.isPaused;
								        skipBtn.classList.toggle('btn-disabled', skipBtn.disabled);

								        // Update pause button text based on state
								        if (isRunningNow && !timerState.isPaused) {
								            pauseBtn.innerHTML = '<i class="fas fa-pause mr-1"></i>Pause';
								            pauseBtn.onclick = pauseTimer;
								        } else if (isRunningNow && timerState.isPaused) {
								             pauseBtn.innerHTML = '<i class="fas fa-play mr-1"></i>Resume';
								            pauseBtn.onclick = resumeTimer;
								        } else { // Not running
								            pauseBtn.innerHTML = '<i class="fas fa-pause mr-1"></i>Pause';
								            pauseBtn.onclick = pauseTimer; // Default back to pause
								        }
									}

									document.addEventListener('DOMContentLoaded', function() {
										setActiveNavLink();
										if (document.getElementById('mindset-tool-content')) {
												loadQuestion();
										}
										 if(document.getElementById('timer-tool-content')) {
												updateTimerValuesFromInputs(true); // Load initial values & store as initial
												resetTimer(); // Call reset to set display correctly
										 }
									});

								</script>
								</body>
								</html>